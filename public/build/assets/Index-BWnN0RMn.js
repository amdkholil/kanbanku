import{u as k,q as F,s as T,g as r,a as C,b as o,h as q,w as j,d as e,o as d,F as P,D as A,E as I,e as f,i as u,t as x,l as L,f as M,j as b,C as g,r as h}from"./app-C2VMX4g_.js";import{_ as R}from"./AuthenticatedLayout-BQroXqJS.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B6jo99gE.js";const O={class:"flex justify-between items-center"},W={class:"py-12"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},K={key:0,class:"absolute right-2 top-2"},Q=["onClick"],X=["onClick"],Y=["onClick"],Z=["onClick"],ee={class:"p-6 text-gray-900 flex flex-col h-full"},te={class:"text-lg font-bold pr-6"},se={class:"text-gray-600 text-sm mt-2 line-clamp-2 h-10"},oe={class:"mt-4 flex justify-end"},le={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ie={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ne={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},re={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},de={class:"space-y-4"},ae={key:0,class:"text-red-500 text-xs mt-1"},me={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ue=["disabled"],be={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},ge={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ce={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},pe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},fe={class:"space-y-4"},xe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ve=["disabled"],ye={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},we={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},he={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},ke={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},_e={class:"space-y-4"},Ce={class:"block text-sm font-medium text-gray-700"},je={class:"font-bold text-gray-900"},Me=["placeholder"],$e={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Pe=["disabled"],Ve={key:3,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},De={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Se={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ue={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ze={class:"space-y-4"},Ne={key:0,class:"text-red-500 text-xs mt-1"},Be={class:"mt-2 flex items-center space-x-2"},Ee={class:"text-sm text-gray-500"},Fe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Te=["disabled"],qe={key:0},Ae={key:1},Ie={__name:"Index",props:{projects:Array},setup(V){const p=h(!1),v=h(!1),y=h(!1),w=h(!1),c=h(null),i=k({name:"",description:"",color:"#4f46e5"}),n=k({id:null,name:"",description:"",color:"#4f46e5"}),a=k({project_id:null,email:""}),m=k({id:null,confirm_email:""}),D=()=>{i.post(route("projects.store"),{onSuccess:()=>{p.value=!1,i.reset()}})},S=l=>{n.id=l.id,n.name=l.name,n.description=l.description,n.color=l.color,v.value=!0,c.value=null},U=()=>{n.patch(route("projects.update",n.id),{onSuccess:()=>{v.value=!1}})},z=l=>{a.project_id=l.id,a.email="",y.value=!0,c.value=null},N=()=>{a.post(route("projects.members.store",a.project_id),{onSuccess:()=>{y.value=!1,a.reset()}})},B=l=>{m.id=l.id,m.confirm_email="",w.value=!0,c.value=null},E=()=>{m.delete(route("projects.destroy",m.id),{onSuccess:()=>{w.value=!1}})},$=()=>{c.value=null};return F(()=>{window.addEventListener("click",$)}),T(()=>{window.removeEventListener("click",$)}),(l,t)=>(d(),r(P,null,[C(o(q),{title:"Projects"}),C(R,null,{header:j(()=>[e("div",O,[t[19]||(t[19]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"My Projects",-1)),e("button",{onClick:t[0]||(t[0]=s=>p.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"}," New Project ")])]),default:j(()=>[e("div",W,[e("div",G,[e("div",J,[(d(!0),r(P,null,A(V.projects,s=>(d(),r("div",{key:s.id,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg border-t-4 hover:shadow-md transition-shadow relative",style:I({borderTopColor:s.color||"#ccc"})},[s.owner_id===l.$page.props.auth.user.id?(d(),r("div",K,[e("button",{onClick:f(_=>c.value=c.value===s.id?null:s.id,["stop"]),class:"text-gray-400 hover:text-gray-600 focus:outline-none p-1"},[...t[20]||(t[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM18 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)])],8,Q),c.value===s.id?(d(),r("div",{key:0,onClick:t[1]||(t[1]=f(()=>{},["stop"])),class:"absolute right-0 mt-1 w-40 bg-white rounded-md shadow-lg z-20 border border-gray-100 py-1"},[e("button",{onClick:_=>S(s),class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Rename Project ",8,X),e("button",{onClick:_=>z(s),class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Add Member ",8,Y),t[21]||(t[21]=e("div",{class:"border-t border-gray-100 my-1"},null,-1)),e("button",{onClick:_=>B(s),class:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50"}," Delete Project ",8,Z)])):u("",!0)])):u("",!0),e("div",ee,[e("h3",te,x(s.name),1),e("p",se,x(s.description),1),e("div",oe,[C(o(L),{href:l.route("projects.show",s.slug),class:"text-indigo-600 hover:text-indigo-900 font-medium text-sm flex items-center"},{default:j(()=>[...t[22]||(t[22]=[M(" Open Board ",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["href"])])])],4))),128)),e("div",{onClick:t[2]||(t[2]=s=>p.value=!0),class:"bg-white overflow-hidden shadow-sm sm:rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center p-6 cursor-pointer hover:border-indigo-400 hover:bg-gray-50 transition-all duration-200 min-h-[160px]"},[...t[23]||(t[23]=[e("div",{class:"text-center"},[e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 mb-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])]),e("p",{class:"text-gray-500 font-medium"},"Create New Project")],-1)])])])])]),y.value?(d(),r("div",le,[e("div",ie,[e("div",{onClick:t[3]||(t[3]=s=>y.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t[26]||(t[26]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",ne,[e("form",{onSubmit:f(N,["prevent"])},[e("div",re,[t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Add Member",-1)),e("div",de,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700"},"Member Email",-1)),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o(a).email=s),type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"user@example.com"},null,512),[[g,o(a).email]]),o(a).errors.email?(d(),r("div",ae,x(o(a).errors.email),1)):u("",!0)])])]),e("div",me,[e("button",{type:"submit",disabled:o(a).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm"}," Invite Member ",8,ue),e("button",{onClick:t[5]||(t[5]=s=>y.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):u("",!0),v.value?(d(),r("div",be,[e("div",ge,[e("div",{onClick:t[6]||(t[6]=s=>v.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t[31]||(t[31]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",ce,[e("form",{onSubmit:f(U,["prevent"])},[e("div",pe,[t[30]||(t[30]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Rename Project",-1)),e("div",fe,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700"},"Project Name",-1)),b(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>o(n).name=s),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[g,o(n).name]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),b(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=s=>o(n).description=s),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[g,o(n).description]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700"},"Color Theme",-1)),b(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>o(n).color=s),type:"color",class:"mt-2 h-8 w-8 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[g,o(n).color]])])])]),e("div",xe,[e("button",{type:"submit",disabled:o(n).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm"}," Save Changes ",8,ve),e("button",{onClick:t[10]||(t[10]=s=>v.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):u("",!0),w.value?(d(),r("div",ye,[e("div",we,[e("div",{onClick:t[11]||(t[11]=s=>w.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t[36]||(t[36]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",he,[e("form",{onSubmit:f(E,["prevent"])},[e("div",ke,[t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-red-600 mb-2"},"Delete Project",-1)),t[35]||(t[35]=e("p",{class:"text-sm text-gray-500 mb-4"},"This action is permanent and cannot be undone. All tasks, boards, and data will be destroyed.",-1)),e("div",_e,[e("div",null,[e("label",Ce,[t[32]||(t[32]=M("Please type ",-1)),e("span",je,x(l.$page.props.auth.user.email),1),t[33]||(t[33]=M(" to confirm",-1))]),b(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>o(m).confirm_email=s),type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",placeholder:l.$page.props.auth.user.email},null,8,Me),[[g,o(m).confirm_email]])])])]),e("div",$e,[e("button",{type:"submit",disabled:o(m).processing||o(m).confirm_email!==l.$page.props.auth.user.email,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"}," Delete Permanently ",8,Pe),e("button",{onClick:t[13]||(t[13]=s=>w.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):u("",!0),p.value?(d(),r("div",Ve,[e("div",De,[e("div",{onClick:t[14]||(t[14]=s=>p.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),t[41]||(t[41]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",Se,[e("form",{onSubmit:f(D,["prevent"])},[e("div",Ue,[t[40]||(t[40]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4",id:"modal-title"}," Create New Project ",-1)),e("div",ze,[e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700"},"Project Name",-1)),b(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>o(i).name=s),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"e.g. Website Redesign"},null,512),[[g,o(i).name]]),o(i).errors.name?(d(),r("div",Ne,x(o(i).errors.name),1)):u("",!0)]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),b(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=s=>o(i).description=s),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Briefly describe what this project is about..."},null,512),[[g,o(i).description]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700"},"Color Theme",-1)),e("div",Be,[b(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>o(i).color=s),type:"color",class:"h-8 w-8 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[g,o(i).color]]),e("span",Ee,x(o(i).color),1)])])])]),e("div",Fe,[e("button",{type:"submit",disabled:o(i).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"},[o(i).processing?(d(),r("span",qe,"Creating...")):(d(),r("span",Ae,"Create Project"))],8,Te),e("button",{onClick:t[18]||(t[18]=s=>p.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):u("",!0)]),_:1})],64))}},We=H(Ie,[["__scopeId","data-v-cb2fa342"]]);export{We as default};
