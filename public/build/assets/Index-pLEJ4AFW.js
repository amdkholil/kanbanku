import{u as M,C as q,I as L,g as l,a as $,b as o,h as O,w as P,d as e,o as i,F as j,E as S,O as H,e as w,i as u,t as a,l as W,f as V,j as f,N as p,r as v}from"./app-DIWmZ1Qm.js";import{_ as G}from"./AuthenticatedLayout-CnJ2fmjO.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"flex justify-between items-center"},Q={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Z={key:0,class:"absolute right-2 top-2"},ee=["onClick"],te=["onClick"],se=["onClick"],oe=["onClick"],le=["onClick"],ie={class:"p-6 text-gray-900 flex flex-col h-full"},ne={class:"text-lg font-bold pr-6"},re={class:"text-gray-600 text-sm mt-2 line-clamp-2 h-10"},de={class:"mt-4 flex items-center justify-between"},ae={class:"flex -space-x-2 overflow-hidden"},me=["title"],ue={key:0,class:"h-8 w-8 rounded-full ring-2 ring-white bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-600"},ce={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ge={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},be={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},xe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 text-gray-900 border-b border-gray-100"},fe={class:"text-xs text-gray-500"},pe={class:"bg-white px-4 py-4 sm:px-6"},ve={class:"divide-y divide-gray-100 max-h-60 overflow-y-auto"},ye={class:"flex items-center space-x-3"},we={class:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-xs font-bold text-indigo-700 uppercase"},he={class:"text-sm font-medium text-gray-900"},ke={class:"text-xs text-gray-500"},_e={class:"flex items-center"},Ce={key:0,class:"text-[10px] font-bold text-gray-400 uppercase tracking-wider bg-gray-50 px-2 py-1 rounded"},Me=["onClick"],je={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},$e={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},Pe={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Se={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ve={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ze={class:"space-y-4"},De={key:0,class:"text-red-500 text-xs mt-1"},Ne={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ue=["disabled"],Be={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},Ee={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ae={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Fe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Te={class:"space-y-4"},Ie={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Re=["disabled"],qe={key:3,class:"fixed inset-0 z-50 overflow-y-auto"},Le={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Oe={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},He={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},We={class:"space-y-4"},Ge={class:"block text-sm font-medium text-gray-700"},Je={class:"font-bold text-gray-900"},Ke=["placeholder"],Qe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Xe=["disabled"],Ye={key:4,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Ze={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},et={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},tt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},st={class:"space-y-4"},ot={key:0,class:"text-red-500 text-xs mt-1"},lt={class:"mt-2 flex items-center space-x-2"},it={class:"text-sm text-gray-500"},nt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},rt=["disabled"],dt={key:0},at={key:1},mt={__name:"Index",props:{projects:Array},setup(D){const y=v(!1),h=v(!1),k=v(!1),C=v(!1),_=v(!1),b=v(null),c=v(null),r=M({name:"",description:"",color:"#4f46e5"}),d=M({id:null,name:"",description:"",color:"#4f46e5"}),m=M({project_id:null,email:""}),x=M({id:null,confirm_email:""}),N=()=>{r.post(route("projects.store"),{onSuccess:()=>{y.value=!1,r.reset()}})},U=n=>{d.id=n.id,d.name=n.name,d.description=n.description,d.color=n.color,h.value=!0,b.value=null},B=()=>{d.patch(route("projects.update",d.id),{onSuccess:()=>{h.value=!1}})},E=n=>{m.project_id=n.id,m.email="",k.value=!0,b.value=null},A=()=>{m.post(route("projects.members.store",m.project_id),{onSuccess:()=>{k.value=!1,m.reset()}})},F=n=>{c.value=n,C.value=!0,b.value=null},T=(n,t)=>{confirm(`Remove ${t.user.name} from project?`)&&router.delete(route("projects.members.destroy",{project:n.id,member:t.id}),{onSuccess:()=>{c.value&&c.value.id===n.id&&(c.value.members=c.value.members.filter(s=>s.id!==t.id))}})},I=n=>{x.id=n.id,x.confirm_email="",_.value=!0,b.value=null},R=()=>{x.delete(route("projects.destroy",x.id),{onSuccess:()=>{_.value=!1}})},z=()=>{b.value=null};return q(()=>{window.addEventListener("click",z)}),L(()=>{window.removeEventListener("click",z)}),(n,t)=>(i(),l(j,null,[$(o(O),{title:"Projects"}),$(G,null,{header:P(()=>[e("div",K,[t[21]||(t[21]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"My Projects",-1)),e("button",{onClick:t[0]||(t[0]=s=>y.value=!0),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"}," New Project ")])]),default:P(()=>[e("div",Q,[e("div",X,[e("div",Y,[(i(!0),l(j,null,S(D.projects,s=>(i(),l("div",{key:s.id,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg border-t-4 hover:shadow-md transition-shadow relative",style:H({borderTopColor:s.color||"#ccc"})},[s.owner_id==n.$page.props.auth.user.id?(i(),l("div",Z,[e("button",{onClick:w(g=>b.value=b.value===s.id?null:s.id,["stop"]),class:"text-gray-400 hover:text-gray-600 focus:outline-none p-1"},[...t[22]||(t[22]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM18 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)])],8,ee),b.value===s.id?(i(),l("div",{key:0,onClick:t[1]||(t[1]=w(()=>{},["stop"])),class:"absolute right-0 mt-1 w-40 bg-white rounded-md shadow-lg z-20 border border-gray-100 py-1"},[e("button",{onClick:g=>U(s),class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Rename Project ",8,te),e("button",{onClick:g=>E(s),class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Add Member ",8,se),e("button",{onClick:g=>F(s),class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Manage Members ",8,oe),t[23]||(t[23]=e("div",{class:"border-t border-gray-100 my-1"},null,-1)),e("button",{onClick:g=>I(s),class:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50"}," Delete Project ",8,le)])):u("",!0)])):u("",!0),e("div",ie,[e("h3",ne,a(s.name),1),e("p",re,a(s.description),1),e("div",de,[e("div",ae,[(i(!0),l(j,null,S(s.members.slice(0,5),g=>(i(),l("div",{key:g.id,class:"h-8 w-8 rounded-full ring-2 ring-white bg-indigo-100 flex items-center justify-center text-[10px] font-bold text-indigo-700 uppercase",title:g.user.name},a(g.user.name.charAt(0)),9,me))),128)),s.members.length>5?(i(),l("div",ue," +"+a(s.members.length-5),1)):u("",!0)]),$(o(W),{href:n.route("projects.show",s.slug),class:"text-indigo-600 hover:text-indigo-900 font-medium text-sm flex items-center"},{default:P(()=>[...t[24]||(t[24]=[V(" Open Board ",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["href"])])])],4))),128)),e("div",{onClick:t[2]||(t[2]=s=>y.value=!0),class:"bg-white overflow-hidden shadow-sm sm:rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center p-6 cursor-pointer hover:border-indigo-400 hover:bg-gray-50 transition-all duration-200 min-h-[160px]"},[...t[25]||(t[25]=[e("div",{class:"text-center"},[e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 mb-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])]),e("p",{class:"text-gray-500 font-medium"},"Create New Project")],-1)])])])])]),C.value?(i(),l("div",ce,[e("div",ge,[e("div",{onClick:t[3]||(t[3]=s=>C.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t[27]||(t[27]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",be,[e("div",xe,[t[26]||(t[26]=e("h3",{class:"text-lg font-medium text-gray-900"},"Manage Members",-1)),e("p",fe,a(c.value?.name),1)]),e("div",pe,[e("div",ve,[(i(!0),l(j,null,S(c.value?.members,s=>(i(),l("div",{key:s.id,class:"py-3 flex items-center justify-between"},[e("div",ye,[e("div",we,a(s.user.name.charAt(0)),1),e("div",null,[e("p",he,a(s.user.name),1),e("p",ke,a(s.user.email),1)])]),e("div",_e,[s.user_id===c.value.owner_id?(i(),l("span",Ce,"Owner")):(i(),l("button",{key:1,onClick:g=>T(c.value,s),class:"text-xs font-semibold text-red-600 hover:text-red-900 px-2 py-1 rounded hover:bg-red-50 transition-colors"}," Remove ",8,Me))])]))),128))])]),e("div",je,[e("button",{onClick:t[4]||(t[4]=s=>C.value=!1),type:"button",class:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:w-auto sm:text-sm"}," Close ")])])])])):u("",!0),k.value?(i(),l("div",$e,[e("div",Pe,[e("div",{onClick:t[5]||(t[5]=s=>k.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t[30]||(t[30]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",Se,[e("form",{onSubmit:w(A,["prevent"])},[e("div",Ve,[t[29]||(t[29]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Add Member",-1)),e("div",ze,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700"},"Member Email",-1)),f(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o(m).email=s),type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"user@example.com"},null,512),[[p,o(m).email]]),o(m).errors.email?(i(),l("div",De,a(o(m).errors.email),1)):u("",!0)])])]),e("div",Ne,[e("button",{type:"submit",disabled:o(m).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm"}," Invite Member ",8,Ue),e("button",{onClick:t[7]||(t[7]=s=>k.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):u("",!0),h.value?(i(),l("div",Be,[e("div",Ee,[e("div",{onClick:t[8]||(t[8]=s=>h.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t[35]||(t[35]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",Ae,[e("form",{onSubmit:w(B,["prevent"])},[e("div",Fe,[t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Rename Project",-1)),e("div",Te,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700"},"Project Name",-1)),f(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>o(d).name=s),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[p,o(d).name]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),f(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=s=>o(d).description=s),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[p,o(d).description]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700"},"Color Theme",-1)),f(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>o(d).color=s),type:"color",class:"mt-2 h-8 w-8 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[p,o(d).color]])])])]),e("div",Ie,[e("button",{type:"submit",disabled:o(d).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 sm:ml-3 sm:w-auto sm:text-sm"}," Save Changes ",8,Re),e("button",{onClick:t[12]||(t[12]=s=>h.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):u("",!0),_.value?(i(),l("div",qe,[e("div",Le,[e("div",{onClick:t[13]||(t[13]=s=>_.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),t[40]||(t[40]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1)),e("div",Oe,[e("form",{onSubmit:w(R,["prevent"])},[e("div",He,[t[38]||(t[38]=e("h3",{class:"text-lg font-medium text-red-600 mb-2"},"Delete Project",-1)),t[39]||(t[39]=e("p",{class:"text-sm text-gray-500 mb-4"},"This action is permanent and cannot be undone. All tasks, boards, and data will be destroyed.",-1)),e("div",We,[e("div",null,[e("label",Ge,[t[36]||(t[36]=V("Please type ",-1)),e("span",Je,a(n.$page.props.auth.user.email),1),t[37]||(t[37]=V(" to confirm",-1))]),f(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>o(x).confirm_email=s),type:"email",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500 sm:text-sm",placeholder:n.$page.props.auth.user.email},null,8,Ke),[[p,o(x).confirm_email]])])])]),e("div",Qe,[e("button",{type:"submit",disabled:o(x).processing||o(x).confirm_email!==n.$page.props.auth.user.email,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"}," Delete Permanently ",8,Xe),e("button",{onClick:t[15]||(t[15]=s=>_.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):u("",!0),y.value?(i(),l("div",Ye,[e("div",Ze,[e("div",{onClick:t[16]||(t[16]=s=>y.value=!1),class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),t[45]||(t[45]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",et,[e("form",{onSubmit:w(N,["prevent"])},[e("div",tt,[t[44]||(t[44]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4",id:"modal-title"}," Create New Project ",-1)),e("div",st,[e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700"},"Project Name",-1)),f(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>o(r).name=s),type:"text",required:"",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"e.g. Website Redesign"},null,512),[[p,o(r).name]]),o(r).errors.name?(i(),l("div",ot,a(o(r).errors.name),1)):u("",!0)]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),f(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=s=>o(r).description=s),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Briefly describe what this project is about..."},null,512),[[p,o(r).description]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700"},"Color Theme",-1)),e("div",lt,[f(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>o(r).color=s),type:"color",class:"h-8 w-8 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[p,o(r).color]]),e("span",it,a(o(r).color),1)])])])]),e("div",nt,[e("button",{type:"submit",disabled:o(r).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm"},[o(r).processing?(i(),l("span",dt,"Creating...")):(i(),l("span",at,"Create Project"))],8,rt),e("button",{onClick:t[20]||(t[20]=s=>y.value=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):u("",!0)]),_:1})],64))}},bt=J(mt,[["__scopeId","data-v-e22e7644"]]);export{bt as default};
